// åˆå§‹æ—¶æœ‰Â n ä¸ªç¯æ³¡å¤„äºŽå…³é—­çŠ¶æ€ã€‚
// ç¬¬ä¸€è½®ï¼Œä½ å°†ä¼šæ‰“å¼€æ‰€æœ‰ç¯æ³¡ã€‚
// æŽ¥ä¸‹æ¥çš„ç¬¬äºŒè½®ï¼Œä½ å°†ä¼šæ¯ä¸¤ä¸ªç¯æ³¡å…³é—­ä¸€ä¸ªã€‚

// ç¬¬ä¸‰è½®ï¼Œä½ æ¯ä¸‰ä¸ªç¯æ³¡å°±åˆ‡æ¢ä¸€ä¸ªç¯æ³¡çš„å¼€å…³ï¼ˆå³ï¼Œæ‰“å¼€å˜å…³é—­ï¼Œå…³é—­å˜æ‰“å¼€ï¼‰ã€‚
// ç¬¬ i è½®ï¼Œä½ æ¯ i ä¸ªç¯æ³¡å°±åˆ‡æ¢ä¸€ä¸ªç¯æ³¡çš„å¼€å…³ã€‚
// ç›´åˆ°ç¬¬ n è½®ï¼Œä½ åªéœ€è¦åˆ‡æ¢æœ€åŽä¸€ä¸ªç¯æ³¡çš„å¼€å…³ã€‚

// æ‰¾å‡ºå¹¶è¿”å›ž nÂ è½®åŽæœ‰å¤šå°‘ä¸ªäº®ç€çš„ç¯æ³¡ã€‚

/**
 * æ¯æ¬¡åˆ‡æ¢çš„éƒ½æ˜¯ n çš„å€æ•°çš„ç¯æ³¡
 *
 * */

//              1ï¼Œ2ï¼Œ3ï¼Œ4ï¼Œ5ï¼Œ6ï¼Œ7ï¼Œ8ï¼Œ9
// 1   å…¨éƒ¨äº®
// 2   2çš„å€æ•°  2ï¼Œ4ï¼Œ6ï¼Œ8
// 3   3çš„å€æ•°  3ï¼Œ6ï¼Œ9
// 4   4çš„å€æ•°  4ï¼Œ8
// 5   5çš„å€æ•°  5
// 6   6çš„å€æ•°  6

// 7   7çš„å€æ•°  7
// 8   8çš„å€æ•°  8
// 9   9çš„å€æ•°  9
// æ ¹æ®æ¯ä¸€è½®çš„åˆ‡æ¢åŽå¯èƒ½ä¸å˜ï¼Œå¯èƒ½åè½¬
// è®¾ç½® å®¹å™¨ï¼Œå•æ¬¡å­˜å‚¨ï¼Œå¶æ¬¡æŠµæ¶ˆï¼Œå‰©ä½™çš„sizeå°±æ˜¯å…³é—­çš„ç¯æ³¡
//

/**
 * @param {number} n
 * @return {number}
 */
var bulbSwitch = function (n) {
    // n => 0,1
    if (n <= 1) {
        return n;
    }
    // >=2
    let set = new Set();

    for (let i = 2; i <= n; i++) {
        let from = i;
        // æŸ¥æ‰¾ i çš„å€æ•°
        while (from <= n) {
            if (from % i == 0) {
                if (set.has(from)) {
                    set.delete(from);
                } else {
                    set.add(from);
                }
            }
            from = from + i;
        }
    }
    return n - set.size;
};
// å€æ•°æ€è€ƒðŸ‘†ï¼Œçˆ†æ ˆ

// çº¦æ•°æ€è€ƒðŸ‘‡
// æ¯ä¸€ä¸ªç¯çš„ ç­å’Œäº®å–å†³äºŽkçš„çº¦æ•°çš„ä¸ªæ•°ï¼Œå¦‚æžœkçš„çº¦æ•°æ˜¯å¥‡æ•°ï¼Œç­ðŸ’¡ï¼Œkçš„çº¦æ•°çš„ä¸ªæ•°æ˜¯å¶æ•°ï¼Œäº®ðŸ’¡
// æ€ç»´è½¬åŒ–ï¼Œæ±‚ 0-n ä¹‹é—´çš„å„ä¸ªæ•°çš„çº¦æ•°çš„ä¸ªæ•°ï¼›
// å†ç®€åŒ– å¦‚æžœkæœ‰çº¦æ•°xï¼Œé‚£ä¹ˆå¿…ç„¶æœ‰çº¦æ•° k/xï¼›å› æ­¤å¿…æ˜¯å¶æ•°ï¼›åªæœ‰ x^2 = k æ—¶ï¼Œçº¦æ•°ä¸ºå¥‡æ•°
// å› æ­¤ å°±ç®€åŒ–ä¸º kå¦‚æžœæœ‰å¹³æ–¹æ ¹ï¼Œé‚£ä¹ˆkå¿…æ˜¯ç­çš„

// Math.floor(Math.sqrt(n))  æ˜¯ 1-n ä¹‹é—´çš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•° ã€æ•°è®ºæŽ¨è®ºã€‘
// 1-nçš„å®Œå…¨å¹³æ–¹æ•°çš„ä¸ªæ•° æœ‰ 0- Math.sqrt(n):
// 1-nçš„å®Œå…¨å¹³æ–¹æ•°ä¸­çš„æœ€å¤§å€¼æ˜¯å¹³æ–¹n çš„çº¦æ•°æ˜¯Math.sqrt(n),å› æ­¤ï¼Œæ‰€æœ‰çš„å®Œå…¨å¹³æ–¹æ•°æ˜¯ 1-Math.sqrt(n)

var bulbSwitch = function (n) {
    return Math.floor(Math.sqrt(n));
};
